"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{5536:function(t,e,i){function r(t,e={}){let{sorted:i}=e;i||(t=t.slice().sort(n));let r=t.length,o=Array(2*r),a=0;for(let e=0;e<r;e++){let i=t[e];for(;a>=2&&0>=s(o[a-2],o[a-1],i);)a--;o[a++]=i}let l=a+1;for(let e=r-2;e>=0;e--){let i=t[e];for(;a>=l&&0>=s(o[a-2],o[a-1],i);)a--;o[a++]=i}return o.slice(0,a-1)}function s(t,e,i){return(e[1]-t[1])*(i[0]-t[0])-(e[0]-t[0])*(i[1]-t[1])}function n(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}i.d(e,{Z:function(){return r}})},3223:function(t,e,i){var r=i(2971),s=i(2126),n=i(245),o=i(8641),a=i(5818),l=i(8326);let h={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class u extends r.Z{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+n.$A,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===t.autoPan?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(h.ELEMENT,this.handleElementChanged),this.addChangeListener(h.MAP,this.handleMapChanged),this.addChangeListener(h.OFFSET,this.handleOffsetChanged),this.addChangeListener(h.POSITION,this.handlePositionChanged),this.addChangeListener(h.POSITIONING,this.handlePositioningChanged),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),void 0!==t.position&&this.setPosition(t.position)}getElement(){return this.get(h.ELEMENT)}getId(){return this.id}getMap(){return this.get(h.MAP)||null}getOffset(){return this.get(h.OFFSET)}getPosition(){return this.get(h.POSITION)}getPositioning(){return this.get(h.POSITIONING)}handleElementChanged(){(0,l.ep)(this.element);let t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),(0,a.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);let t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,a.oL)(t,s.Z.POSTRENDER,this.render,this),this.updatePixelPosition();let e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(h.ELEMENT,t)}setMap(t){this.set(h.MAP,t)}setOffset(t){this.set(h.OFFSET,t)}setPosition(t){this.set(h.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){let e=this.getMap();if(!e||!e.getTargetElement()||!this.get(h.POSITION))return;let i=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),s=this.getRect(r,[(0,l.iO)(r),(0,l.Pb)(r)]);t=t||{};let n=void 0===t.margin?20:t.margin;if(!(0,o.r4)(i,s)){let r=s[0]-i[0],o=i[2]-s[2],a=s[1]-i[1],l=i[3]-s[3],h=[0,0];if(r<0?h[0]=r-n:o<0&&(h[0]=Math.abs(o)+n),a<0?h[1]=a-n:l<0&&(h[1]=Math.abs(l)+n),0!==h[0]||0!==h[1]){let i=e.getView().getCenterInternal(),r=e.getPixelFromCoordinateInternal(i);if(!r)return;let s=[r[0]+h[0],r[1]+h[1]],n=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(s),duration:n.duration,easing:n.easing})}}}getRect(t,e){let i=t.getBoundingClientRect(),r=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[r,s,r+e[0],s+e[1]]}setPositioning(t){this.set(h.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){let t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e){this.setVisible(!1);return}let i=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(t,e){let i=this.element.style,r=this.getOffset(),s=this.getPositioning();this.setVisible(!0);let n=Math.round(t[0]+r[0])+"px",o=Math.round(t[1]+r[1])+"px",a="0%",l="0%";"bottom-right"==s||"center-right"==s||"top-right"==s?a="-100%":("bottom-center"==s||"center-center"==s||"top-center"==s)&&(a="-50%"),"bottom-left"==s||"bottom-center"==s||"bottom-right"==s?l="-100%":("center-left"==s||"center-center"==s||"center-right"==s)&&(l="-50%");let h=`translate(${a}, ${l}) translate(${n}, ${o})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,i.transform=h)}getOptions(){return this.options}}e.Z=u},4540:function(t,e,i){var r=i(8775),s=i(4238),n=i(6835),o=i(5818),a=i(9006);let l="projection",h="coordinateFormat";class u extends r.Z{constructor(t){t=t||{};let e=document.createElement("div");e.className=void 0!==t.className?t.className:"ol-mouse-position",super({element:e,render:t.render,target:t.target}),this.on,this.once,this.un,this.addChangeListener(l,this.handleProjectionChanged_),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),this.renderOnMouseOut_=void 0!==t.placeholder,this.placeholder_=this.renderOnMouseOut_?t.placeholder:"&#160;",this.renderedHTML_=e.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=!1!==t.wrapX}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(h)}getProjection(){return this.get(l)}handleMouseMove(t){let e=this.getMap();this.updateHTML_(e.getEventPixel(t))}handleMouseOut(t){this.updateHTML_(null)}setMap(t){if(super.setMap(t),t){let e=t.getViewport();this.listenerKeys.push((0,o.oL)(e,s.Z.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,o.oL)(e,s.Z.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(t){this.set(h,t)}setProjection(t){this.set(l,(0,n.U2)(t))}updateHTML_(t){let e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){let t=this.getProjection();t?this.transform_=(0,n.WO)(this.mapProjection_,t):this.transform_=n.gD}let i=this.getMap(),r=i.getCoordinateFromPixelInternal(t);if(r){let t=(0,n.Cs)();if(t&&(this.transform_=(0,n.WO)(this.mapProjection_,t)),this.transform_(r,r),this.wrapX_){let e=t||this.getProjection()||this.mapProjection_;(0,a.Cf)(r,e)}let i=this.getCoordinateFormat();e=i?i(r):r.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)}render(t){let e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}}e.Z=u},1609:function(t,e,i){i.d(e,{Z:function(){return f}});var r=i(1090),s=i(9646),n=i(4187);class o extends s.ZP{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(a(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(a(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return(0,n.O3)()}readFeaturesFromObject(t,e){return(0,n.O3)()}readGeometry(t,e){return this.readGeometryFromObject(a(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return(0,n.O3)()}readProjection(t){return this.readProjectionFromObject(a(t))}readProjectionFromObject(t){return(0,n.O3)()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return(0,n.O3)()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return(0,n.O3)()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return(0,n.O3)()}}function a(t){if("string"==typeof t){let e=JSON.parse(t);return e||null}return null!==t?t:null}var l=o,h=i(7571),u=i(8527),d=i(2967),c=i(6835),g=i(9374);function p(t,e){let i;if(!t)return null;switch(t.type){case"Point":i=function(t){let e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:(0,d.Ss)(e.length)}}(t);break;case"LineString":i=function(t){let e=t.coordinates,i=e.flat();return{type:"LineString",flatCoordinates:i,ends:[i.length],layout:(0,d.Ss)(e[0]?.length||2)}}(t);break;case"Polygon":i=function(t){let e=t.coordinates,i=[],r=e[0]?.[0]?.length,s=(0,u._5)(i,0,e,r);return{type:"Polygon",flatCoordinates:i,ends:s,layout:(0,d.Ss)(r)}}(t);break;case"MultiPoint":i=function(t){let e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:(0,d.Ss)(e[0]?.length||2)}}(t);break;case"MultiLineString":i=function(t){let e=t.coordinates,i=e[0]?.[0]?.length||2,r=[],s=(0,u._5)(r,0,e,i);return{type:"MultiLineString",flatCoordinates:r,ends:s,layout:(0,d.Ss)(i)}}(t);break;case"MultiPolygon":i=function(t){let e=t.coordinates,i=[],r=e[0]?.[0]?.[0].length||2,s=(0,u.QT)(i,0,e,r);return{type:"MultiPolygon",flatCoordinates:i,ends:s,layout:(0,d.Ss)(r)}}(t);break;case"GeometryCollection":i=function(t,e){let i=t.geometries.map(function(t){return p(t,void 0)});return i}(t);break;default:throw Error("Unsupported GeoJSON type: "+t.type)}return i}function m(t,e){var i,r;let n,o,a;t=(0,s.fI)(t,!0,e);let l=t.getType();switch(l){case"Point":n={type:"Point",coordinates:t.getCoordinates()};break;case"LineString":n={type:"LineString",coordinates:t.getCoordinates()};break;case"Polygon":i=t,e&&(o=e.rightHanded),n={type:"Polygon",coordinates:i.getCoordinates(o)};break;case"MultiPoint":n={type:"MultiPoint",coordinates:t.getCoordinates()};break;case"MultiLineString":n={type:"MultiLineString",coordinates:t.getCoordinates()};break;case"MultiPolygon":r=t,e&&(a=e.rightHanded),n={type:"MultiPolygon",coordinates:r.getCoordinates(a)};break;case"GeometryCollection":n=function(t,e){e=Object.assign({},e),delete e.featureProjection;let i=t.getGeometriesArray().map(function(t){return m(t,e)});return{type:"GeometryCollection",geometries:i}}(t,e);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+l)}return n}var f=class extends l{constructor(t){t=t||{},super(),this.dataProjection=(0,c.U2)(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=(0,c.U2)(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let i=null;i="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null};let n=p(i.geometry,e);if(this.featureClass===h.ZP)return(0,s.zg)({geometry:n,id:i.id,properties:i.properties},e);let o=new r.Z;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&o.setGeometryName(i.geometry_name),o.setGeometry((0,s.YU)(n,e)),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o}readFeaturesFromObject(t,e){let i=null;if("FeatureCollection"===t.type){i=[];let r=t.features;for(let t=0,s=r.length;t<s;++t){let s=this.readFeatureFromObject(r[t],e);s&&i.push(s)}}else i=[this.readFeatureFromObject(t,e)];return i.flat()}readGeometryFromObject(t,e){return function(t,e){let i=p(t,e);return(0,s.YU)(i,e)}(t,e)}readProjectionFromObject(t){let e;let i=t.crs;if(i){if("name"==i.type)e=(0,c.U2)(i.properties.name);else if("EPSG"===i.type)e=(0,c.U2)("EPSG:"+i.properties.code);else throw Error("Unknown SRS type")}else e=this.dataProjection;return e}writeFeatureObject(t,e){e=this.adaptOptions(e);let i={type:"Feature",geometry:null,properties:null},r=t.getId();if(void 0!==r&&(i.id=r),!t.hasProperties())return i;let s=t.getProperties(),n=t.getGeometry();return n&&(i.geometry=m(n,e),delete s[t.getGeometryName()]),(0,g.x)(s)||(i.properties=s),i}writeFeaturesObject(t,e){e=this.adaptOptions(e);let i=[];for(let r=0,s=t.length;r<s;++r)i.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:i}}writeGeometryObject(t,e){return m(t,this.adaptOptions(e))}}},7276:function(t,e,i){var r=i(2967),s=i(8641),n=i(8527),o=i(6442);class a extends r.ZP{constructor(t,e,i){super(),void 0!==i&&void 0===e?this.setFlatCoordinates(i,t):(e=e||0,this.setCenterAndRadius(t,e,i))}clone(){let t=new a(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,r){let s=this.flatCoordinates,n=t-s[0],o=e-s[1],a=n*n+o*o;if(a<r){if(0===a)for(let t=0;t<this.stride;++t)i[t]=s[t];else{let t=this.getRadius()/Math.sqrt(a);i[0]=s[0]+t*n,i[1]=s[1]+t*o;for(let t=2;t<this.stride;++t)i[t]=s[t]}return i.length=this.stride,a}return r}containsXY(t,e){let i=this.flatCoordinates,r=t-i[0],s=e-i[1];return r*r+s*s<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){let e=this.flatCoordinates,i=e[this.stride]-e[0];return(0,s.T9)(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){let t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){let e=this.getExtent();if((0,s.kK)(t,e)){let e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||(0,s.H6)(t,this.intersectsCoordinate.bind(this))}return!1}setCenter(t){let e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+i;for(let i=1;i<e;++i)r[e+i]=t[i];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);let r=this.flatCoordinates,s=(0,n.IG)(r,0,t,this.stride);r[s++]=r[0]+e;for(let t=1,e=this.stride;t<e;++t)r[s++]=r[t];r.length=s,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){let i=this.getCenter(),r=this.getStride();this.setCenter((0,o.U1)(i,0,i.length,r,t,e,i)),this.changed()}}a.prototype.transform,e.Z=a},9261:function(t,e,i){var r=i(5487),s=i(1090),n=i(188),o=i(6689),a=i(9006),l=i(9515),h=i(8641),u=i(4187);class d extends o.Z{constructor(t){t=t||{},super({attributions:t.attributions,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.minDistance=t.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=t.geometryFunction||function(t){let e=t.getGeometry();return(0,l.h)(!e||"Point"===e.getType(),"The default `geometryFunction` can only handle `Point` or null geometries"),e},this.createCustomCluster_=t.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(t.source||null)}clear(t){this.features.length=0,super.clear(t)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(t,e,i){this.source?.loadFeatures(t,e,i),e!==this.resolution&&(this.resolution=e,this.refresh())}setDistance(t){this.updateDistance(t,this.minDistance)}setMinDistance(t){this.updateDistance(this.distance,t)}getMinDistance(){return this.minDistance}setSource(t){this.source&&this.source.removeEventListener(r.Z.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(r.Z.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(t,e){let i=0===t?0:Math.min(e,t)/t,r=t!==this.distance||this.interpolationRatio!==i;this.distance=t,this.minDistance=e,this.interpolationRatio=i,r&&this.refresh()}cluster(){if(void 0===this.resolution||!this.source)return;let t=(0,h.lJ)(),e=this.distance*this.resolution,i=this.source.getFeatures(),r={};for(let s=0,n=i.length;s<n;s++){let n=i[s];if(!((0,u.sq)(n) in r)){let i=this.geometryFunction(n);if(i){let s=i.getCoordinates();(0,h.HK)(s,t),(0,h.f3)(t,e,t);let n=this.source.getFeaturesInExtent(t).filter(function(t){let e=(0,u.sq)(t);return!(e in r)&&(r[e]=!0,!0)});this.features.push(this.createCluster(n,t))}}}}createCluster(t,e){let i=[0,0];for(let e=t.length-1;e>=0;--e){let r=this.geometryFunction(t[e]);r?(0,a.IH)(i,r.getCoordinates()):t.splice(e,1)}(0,a.bA)(i,1/t.length);let r=(0,h.qg)(e),o=this.interpolationRatio,l=new n.Z([i[0]*(1-o)+r[0]*o,i[1]*(1-o)+r[1]*o]);return this.createCustomCluster_?this.createCustomCluster_(l,t):new s.Z({geometry:l,features:t})}}e.Z=d}}]);