(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{3372:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/popup",function(){return e(8108)}])},4865:function(t,n,e){"use strict";e.d(n,{G2:function(){return o},LK:function(){return l},YF:function(){return f},eA:function(){return c},f:function(){return u},fY:function(){return a},gb:function(){return m},r5:function(){return s},r8:function(){return i},tm:function(){return g},uH:function(){return d},uj:function(){return p}});var r=e(6835);let i=1,o=16,u=!1,l=!1,a=(0,r.mi)([105.783089061,21.007448175]),c=(0,r.mi)([105.77148046,21.007552187]),s=(0,r.mi)([105.794633289,21.00786928]),f=(0,r.mi)([105.813080887,21.076551416]),d=(0,r.mi)([105.735447973,21.057766731]),m=(0,r.mi)([16.340115111,48.232346294]),g=(0,r.mi)([126.980366,37.52654]),p="https://raw.githubusercontent.com/thanktu/thanktu.github.io/main/data/kml_data.kml"},8108:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return E}});var r=e(5893),i=e(7294),o=e(9008),u=e.n(o),l=e(8240),a=e(2241),c=e(6689),s=e(988);e(6835);var f=e(7539),d=e(283),m=e(1345),g=e(8958),p=e(7315),h=e(9093);e(4865);var w=e(193);let v=()=>{let t;let n={},e=new p.Z({source:new c.Z({url:"http://localhost:3000/data/kml_data.kml",format:new w.ZP({extractStyles:!1})}),style:function(t){let e=t.get("name"),r=parseFloat(e.substr(2)),i=5+20*(r-5),o=n[i];return o||(o=new f.ZP({image:new d.Z({radius:i,fill:new m.Z({color:"rgba(255, 153, 0, 0.4)"}),stroke:new g.Z({color:"rgba(255, 204, 0, 0.2)",width:1})})}),n[i]=o),o}}),r=new l.Z({target:"map",layers:[new h.Z({source:new s.Z({url:"https://mt0.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}",crossOrigin:"anonymous"})}),e],view:new a.ZP({center:[0,0],zoom:2})}),i=document.getElementById("info");i.style.pointerEvents="none";let o=new bootstrap.Tooltip(i,{animation:!1,customClass:"pe-none",offset:[0,5],title:"-",trigger:"manual"}),u=function(n,e){let u=e.closest(".ol-control")?void 0:r.forEachFeatureAtPixel(n,function(t){return t});console.log({name:null==u?void 0:u.get("name")}),u?(i.style.left=n[0]+"px",i.style.top=n[1]+"px",u!==t&&o.setContent({".tooltip-inner":u.get("name")}),t?o.update():o.show()):o.hide(),t=u};return r.on("pointermove",function(n){if(n.dragging){o.hide(),t=void 0;return}let e=r.getEventPixel(n.originalEvent);u(e,n.originalEvent.target)}),r.on("click",function(t){u(t.pixel,t.originalEvent.target)}),r.getTargetElement().addEventListener("pointerleave",function(){o.hide(),t=void 0}),r},x=()=>{let t=(0,i.useRef)(null);return(0,i.useEffect)(()=>{t.current&&v()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u(),{children:[(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("title",{children:"Popup Custom"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{style:{width:"100%"},children:(0,r.jsx)("div",{id:"map",className:"map",ref:t,children:(0,r.jsx)("div",{id:"info"})})})})]})};var E=x}},function(t){t.O(0,[280,279,646,315,193,774,888,179],function(){return t(t.s=3372)}),_N_E=t.O()}]);